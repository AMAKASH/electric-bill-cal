<div class="tip-calculator">
  <div class="header">
    <h2>Electricity Bill Calculator</h2>
  </div>

  <div class="section">
    <span>Previous Month Used Unit</span>
    <div class="input-box">
      <input id="prevunit" type="number" [(ngModel)]="prevUnit" placeholder="Enter used unit" />
    </div>
  </div>

  <div class="section">
    <span>Current Month Used Unit</span>
    <div class="input-box">
      <input id="currunit" type="number" [(ngModel)]="currUnit" placeholder="Enter used unit"
        (keydown.enter)="calculateTotal()" />
      <button class="edit-icon" (click)="calculateTotal()">âœŽ</button>
    </div>
  </div>

  <div class="section">
    <span>Used Unit</span>
    <div class="tip-grid">
      <div class="tip-option subtotal">BDT {{ unit.toFixed(2) }}</div>
      </div>
      </div>

  <div class="section">
    <span>Bill Calculation BreakDown</span>
    <div class="tip-grid">
      <div class="tip-option" *ngFor="let item of breakdowns">
        <span>
          {{ item.unit }} Unit &#64; BDT {{ item.price.toFixed(2) }} = BDT
          {{ item.total.toFixed(2) }}</span>
      </div>
      <div class="tip-option" *ngIf="breakdowns.length === 0">
        <span> No breakdown available. Please enter a valid unit.</span>
      </div>
    </div>
  </div>

  <div class="section">
    <span>Subtotal</span>
    <div class="tip-grid">
      <div class="tip-option subtotal">BDT {{ subtotal.toFixed(2) }}</div>
    </div>
  </div>

  <div class="result-box">
    <div class="per-person">
      <h1>BDT {{ total.toFixed(2) }}</h1>
      <span>Total Electricity Bill</span>
    </div>
    <div class="summary">
      <div>
        <strong>BDT {{ demand_charge.toFixed(2) }}</strong>
        <span>Demand Charge</span>
      </div>
      <div>
        <strong>BDT {{ vat.toFixed(2) }}</strong>
        <span>Vat (5.00%)</span>
      </div>
    </div>
  </div>
</div>
